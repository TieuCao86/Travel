<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vietravel - Đăng ký hội viên</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background: #f5f5f5;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px 0;
        }
        .registration-container {
            max-width: 650px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 40px;
        }
        .page-title {
            font-size: 32px;
            font-weight: 700;
            color: #000;
            text-align: center;
            margin-bottom: 30px;
        }
        .page-description {
            color: #333;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 35px;
            text-align: justify;
        }
        .form-label {
            font-weight: 500;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
        }
        .required {
            color: #dc3545;
            margin-left: 2px;
        }
        .form-control, .form-select {
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 12px 15px;
            font-size: 14px;
            transition: all 0.3s;
        }
        .form-control:focus, .form-select:focus {
            border-color: #a67c52;
            box-shadow: 0 0 0 0.2rem rgba(166, 124, 82, 0.15);
        }
        .form-control::placeholder {
            color: #aaa;
            font-size: 14px;
        }
        .mb-3 {
            margin-bottom: 20px !important;
        }
        .form-check {
            padding-left: 1.8em;
            margin-bottom: 25px;
        }
        .form-check-input {
            width: 18px;
            height: 18px;
            margin-top: 0.15em;
            border: 2px solid #ccc;
            cursor: pointer;
        }
        .form-check-input:checked {
            background-color: #a67c52;
            border-color: #a67c52;
        }
        .form-check-label {
            font-size: 14px;
            color: #333;
            cursor: pointer;
            margin-left: 5px;
        }
        .form-check-label a {
            color: #0066cc;
            text-decoration: none;
        }
        .form-check-label a:hover {
            text-decoration: underline;
        }
        .btn-register {
            background: #a67c52;
            color: white;
            border: none;
            padding: 14px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 6px;
            width: 100%;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .btn-register:hover {
            background: #8f6844;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(166, 124, 82, 0.3);
        }
        .btn-register:active {
            transform: translateY(0);
        }
        .invalid-feedback {
            display: none;
            font-size: 13px;
            color: #dc3545;
            margin-top: 5px;
        }
        .was-validated .form-control:invalid ~ .invalid-feedback,
        .was-validated .form-select:invalid ~ .invalid-feedback {
            display: block;
        }
        .form-select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23333' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 16px 12px;
        }
    </style>
</head>
<body>
<div class="registration-container">
    <h1 class="page-title">Đăng ký hội viên</h1>

    <p class="page-description">
        Để hoàn tất đăng ký Hội viên VietravelPlus, quý khách vui lòng điền đầy đủ thông tin vào mẫu dưới đây và nhấn vào nút đăng ký. Xin chân thành cảm ơn quý khách hàng.
    </p>

    <form th:action="@{/register}" th:object="${user}" method="post">

        <input type="text" class="form-control" th:field="*{hoTen}" placeholder="Nhập họ tên">

        <input type="email" class="form-control" th:field="*{email}" placeholder="Nhập email">

        <input type="tel" class="form-control" th:field="*{soDienThoai}" placeholder="Nhập số điện thoại">

        <input type="password" class="form-control" th:field="*{matKhau}" placeholder="Mật khẩu">

        <input type="date" class="form-control" th:field="*{ngaySinh}">

        <select class="form-select" th:field="*{gioiTinh}">
            <option value="Nam">Nam</option>
            <option value="Nữ">Nữ</option>
            <option value="Khác">Khác</option>
        </select>

        <div th:if="${error}" class="text-danger">
            <span th:text="${error}"></span>
        </div>

        <button type="submit" class="btn btn-register">Đăng ký</button>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const form = document.getElementById('registrationForm');
    const password = document.getElementById('password');
    const confirmPassword = document.getElementById('confirmPassword');

    // Custom validation for password match
    confirmPassword.addEventListener('input', function() {
        if (password.value !== confirmPassword.value) {
            confirmPassword.setCustomValidity('Mật khẩu không khớp');
        } else {
            confirmPassword.setCustomValidity('');
        }
    });

    password.addEventListener('input', function() {
        if (confirmPassword.value) {
            if (password.value !== confirmPassword.value) {
                confirmPassword.setCustomValidity('Mật khẩu không khớp');
            } else {
                confirmPassword.setCustomValidity('');
            }
        }
    });

    // Update district options based on province selection
    document.getElementById('province').addEventListener('change', function() {
        const district = document.getElementById('district');
        district.innerHTML = '<option value="" selected>Chọn quận / huyện</option>';

        if (this.value === 'hanoi') {
            district.innerHTML += `
                <option value="badinh">Ba Đình</option>
                <option value="hoangmai">Hoàng Mai</option>
                <option value="caugiay">Cầu Giấy</option>
                <option value="dongda">Đống Đa</option>
                <option value="haibatrung">Hai Bà Trưng</option>
            `;
        } else if (this.value === 'hcm') {
            district.innerHTML += `
                <option value="district1">Quận 1</option>
                <option value="district2">Quận 2</option>
                <option value="district3">Quận 3</option>
                <option value="binhtan">Bình Tân</option>
                <option value="tanbinh">Tân Bình</option>
                <option value="gopvap">Gò Vấp</option>
                <option value="thuduc">Thủ Đức</option>
            `;
        }
    });
</script>
</body>
</html>