<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <th:block layout:fragment="styles">
        <link rel="stylesheet" th:href="@{/css/tour-filter.css}">
    </th:block>
    <title></title>
</head>


<body>
<div layout:fragment="content">

    <div class="container-fluid">
        <div class="container">

            <!-- Search Bar -->
            <div class="search-bar">
                <div class="row g-3 align-items-end">
                    <div class="col-md-3">
                        <label class="form-label">
                            <i class="fas fa-map-marker-alt"></i> Địa điểm
                        </label>
                        <label>
                            <input type="text"
                                   class="form-control"
                                   name="tenTour"
                                   th:value="${tenTour}">
                        </label>
                    </div>

                    <div class="col-md-3">
                        <label class="form-label">
                            <i class="far fa-calendar"></i> Ngày khởi hành
                        </label>
                        <label>
                            <input type="text" class="form-control" placeholder="Linh hoạt">
                        </label>
                    </div>

                    <div class="col-md-3">
                        <label class="form-label">
                            <i class="fas fa-plane"></i> Khởi hành từ
                        </label>
                        <label>
                            <input type="text" class="form-control" placeholder="Tất cả">
                        </label>
                    </div>

                    <div class="col-md-3">
                        <form action="/tour/filter" method="get">
                            <label>
                                <input type="text" name="tenTour" th:value="${tenTour}">
                            </label>
                            <button type="submit" class="btn search-btn w-100">
                                <i class="fas fa-search"></i> Tìm kiếm
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Breadcrumb -->
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="/"><i class="fas fa-home"></i> Trang chủ</a>
                    </li>
                    <li class="breadcrumb-item active" th:text="${tenTour}">Địa điểm</li>
                </ol>
            </nav>

            <div class="row">
                <!-- Sidebar -->
                <div class="col-md-3">
                    <div class="sidebar">
                        <h5>Tour HOT Trong Nước</h5>

                        <ul>
                            <li><a th:href="@{/tour/filter(tenTour='Phú Quốc')}">Phú Quốc</a></li>
                            <li><a th:href="@{/tour/filter(tenTour='Sapa')}">Sapa</a></li>
                            <li><a th:href="@{/tour/filter(tenTour='Đà Nẵng')}">Đà Nẵng</a></li>
                            <li><a th:href="@{/tour/filter(tenTour='Hạ Long')}">Hạ Long</a></li>
                        </ul>

                        <h6>Tour HOT Nước Ngoài</h6>

                        <ul>
                            <li><a th:href="@{/tour/filter(tenTour='Thụy Sĩ')}">Thụy Sĩ</a></li>
                            <li><a th:href="@{/tour/filter(tenTour='Nhật Bản')}">Nhật Bản</a></li>
                            <li><a th:href="@{/tour/filter(tenTour='Hàn Quốc')}">Hàn Quốc</a></li>
                            <li><a th:href="@{/tour/filter(tenTour='Pháp')}">Pháp</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="col-md-9">
                    <div class="result-header d-flex justify-content-between align-items-center">
                        <h3 th:text="'Tour du lịch ' + ${tenTour}">Tour du lịch</h3>
                        <span class="result-count"
                              th:text="'Tìm thấy ' + ${#lists.size(tours)} + ' tour'"></span>
                    </div>

                    <!-- Tour Cards -->
                    <div th:each="tour : ${tours}" class="tour-card">
                        <div class="row g-0">
                            <div class="col-md-4">
                                <div class="tour-image">
                                    <img th:src="${tour.duongDanAnhDaiDien}" alt="img" src="">
                                    <button class="favorite-btn"><i class="far fa-heart"></i></button>

                                    <span class="badge-standard">
                                        <i class="fas fa-check-circle"></i> Tiêu chuẩn
                                    </span>
                                </div>
                            </div>

                            <div class="col-md-8">
                                <div class="tour-content">
                                    <h3 class="tour-title" th:text="${tour.tenTour}">Tên tour</h3>

                                    <div class="row tour-info">
                                        <div class="col-md-6">
                                            <div class="info-item">
                                                <i class="fas fa-tag"></i>
                                                <span class="info-label">Mã tour:</span>
                                                <span th:text="${tour.maTour}"></span>
                                            </div>

                                            <div class="info-item">
                                                <i class="fas fa-clock"></i>
                                                <span class="info-label">Thời gian:</span>
                                                <span th:text="${tour.thoiGian}"></span>
                                            </div>

                                            <div class="info-item">
                                                <i class="fas fa-calendar-alt"></i>
                                                <span class="info-label">Ngày khởi hành:</span>
                                                <span class="date-badge"
                                                      th:each="d : ${tour.lichKhoiHanhs}"
                                                      th:text="${d}">
                                                </span>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="info-item">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span class="info-label">Khởi hành:</span>
                                                <span th:text="${tour.noiXuatPhat}"></span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="price-section">
                                        <div>
                                            <span class="price-label">Giá từ:</span>
                                            <div class="price"
                                                 th:text="${tour.gia} + ' ₫'"></div>
                                        </div>

                                        <a th:href="@{/tour/{id}(id=${tour.maTour})}"
                                           class="btn-detail">Xem chi tiết</a>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- Empty -->
                    <div th:if="${#lists.isEmpty(tours)}" class="text-center py-5">
                        <i class="fas fa-search fa-3x text-muted mb-3"></i>
                        <p class="text-muted">Không tìm thấy tour nào</p>
                    </div>

                </div>
            </div>

        </div>
    </div>

</div>

<th:block layout:fragment="scripts">
    <script th:src="@{/js/tour-filter.js}"></script>
</th:block>

</body>
</html>
